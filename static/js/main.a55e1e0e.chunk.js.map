{"version":3,"sources":["assets/filter-icon-3.svg","assets/filter-selected-icon-3.svg","assets/check.svg","assets/logo.png","assets/densHorizontal.svg","assets/densVertical.svg","assets/densDiagonal.svg","assets/filter-icon-4.svg","assets/filter-icon-6.svg","assets/filter-selected-icon-4.svg","assets/filter-selected-icon-6.svg","assets/loading.svg","assets/painel.svg","assets/menu.png","assets/painel2.svg","assets/filter-icon-5.svg","assets/filter-selected-icon-5.svg","assets/socio-economic-grafico.svg","components/Menu.js","components/ModalSubtitle.js","api.js","screens/HumanitarianMap.js","screens/App.js","routes.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Menu","state","buttonList","label","route","mappingList","averageIncome","text","color","demographicDensity","img","densDiagonal","imgDesc","densVertical","densHorizontal","demandsandDeliveries","menuItems","image","filterIcon3","selectedImage","filterSelectedIcon3","title","layerName","filterIcon4","filterSelectedIcon4","filterIcon6","filterSelectedIcon6","isMapping","isSelectedButton","isSelectedCheck","isSelected","isSocioEconomic","DemographicDensity","isDemandsandDeliveries","handleIsMappingOpen","item","setState","handleSelected","renderDemandsandDeliveries","className","map","style","background","renderDemographicDensity","src","alt","renderSocioEconomic","backgroundColor","handleMappingCheck","list","find","value","splice","indexOf","concat","renderCheckIcon","Check","renderDataItem","hasMatch","console","log","renderMapping","key","renderMenuItem","currentItem","props","selectedMenuItem","setColor","setFont","setDisplay","setOpacity","onClick","selectMenuItem","opacity","to","Logo","this","Component","Modal","handleSocioEconomic","handleDemographicDensity","handleSolidarity","handleCovid","handleOngs","renderContent","selectedItem","showSubtitle","handleModalSubtitle","getIndexes","index","axios","url","method","mapboxgl","accessToken","HumanitarianMap","choosePopup","layer","feature","district","casosConf","confirmed_cases","mortes","deaths","demand","demands","entregaSolid","delivered_amount","ongsFiltered","ongs","features","filter","properties","ong","length","handlePopup","popup","on","e","coord","undefined","geometry","coordinates","slice","Math","abs","lngLat","lng","popupMarkup","Popup","setLngLat","setHTML","addTo","getCanvas","cursor","remove","renderLoading","Loading","isLoading","lat","zoom","prevProps","prevState","setLayoutProperty","isFetching","response","geojson","data","forEach","_source","longitude","latitude","push","bairros","fetchNeighborhood","fetchOngs","Map","container","mapContainer","center","minZoom","maxZoom","maxBounds","flyTo","speed","addSource","type","addLayer","handleMenuItem","addControl","NavigationControl","id","ref","el","App","renderMap","renderPainel","painel","menu","painel2","Routes","exact","path","component","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.a55e1e0e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/filter-icon-3.54d0188c.svg\";","module.exports = __webpack_public_path__ + \"static/media/filter-selected-icon-3.1062eeba.svg\";","module.exports = __webpack_public_path__ + \"static/media/check.32d24ad4.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.3f9b1271.png\";","module.exports = __webpack_public_path__ + \"static/media/densHorizontal.23396a5d.svg\";","module.exports = __webpack_public_path__ + \"static/media/densVertical.1cac0dbe.svg\";","module.exports = __webpack_public_path__ + \"static/media/densDiagonal.22c16143.svg\";","module.exports = __webpack_public_path__ + \"static/media/filter-icon-4.a24fcc0b.svg\";","module.exports = __webpack_public_path__ + \"static/media/filter-icon-6.9c7137c4.svg\";","module.exports = __webpack_public_path__ + \"static/media/filter-selected-icon-4.7d2a4960.svg\";","module.exports = __webpack_public_path__ + \"static/media/filter-selected-icon-6.939a948b.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading.00169747.svg\";","module.exports = __webpack_public_path__ + \"static/media/painel.6e1bce9b.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu.3a4e897c.png\";","module.exports = __webpack_public_path__ + \"static/media/painel2.e48b3922.svg\";","module.exports = __webpack_public_path__ + \"static/media/filter-icon-5.e801dcda.svg\";","module.exports = __webpack_public_path__ + \"static/media/filter-selected-icon-5.29d40615.svg\";","module.exports = __webpack_public_path__ + \"static/media/socio-economic-grafico.3d5ce1be.svg\";","// Libs\nimport React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\n\n// Images\nimport Check from '../assets/check.svg';\nimport Logo from '../assets/logo.png';\nimport densHorizontal from '../assets/densHorizontal.svg';\nimport densVertical from '../assets/densVertical.svg';\nimport densDiagonal from '../assets/densDiagonal.svg'\n\nimport filterIcon3 from '../assets/filter-icon-3.svg';\nimport filterIcon4 from '../assets/filter-icon-4.svg';\nimport filterIcon5 from '../assets/filter-icon-5.svg';\nimport filterIcon6 from '../assets/filter-icon-6.svg';\nimport filterSelectedIcon3 from '../assets/filter-selected-icon-3.svg';\nimport filterSelectedIcon4 from '../assets/filter-selected-icon-4.svg';\nimport filterSelectedIcon5 from '../assets/filter-selected-icon-5.svg';\nimport filterSelectedIcon6 from '../assets/filter-selected-icon-6.svg';\n\nclass Menu extends Component {\n  state = {\n    buttonList: [\n      {\n        label: \"Mapeamento\",\n        route: \"/uniaorio\"\n      },\n      {\n        label: \"Estatísticas por Bairro\",\n        route: \"/uniaorio/statistics\"\n      },      \n    ],\n    mappingList: [\n      \"Sócio-Econômico\",\n      \"Densidade Demográfica\",\n      \"Demandas e Entregas\",\n      \"ONG's Parceiras\"\n    ],\n    averageIncome: [\n      {\n        text: 'Até R$1.254,00',\n        color: '#FF6600',\n      },\n      {\n        text: 'R$1.255,00 - R$2.004,00',\n        color: '#FCA446',\n      },\n      {\n        text: 'R$2.005,00 - R$8.640,00',\n        color: '#F2FC36',\n      },\n      {\n        text: 'R$8.641,00 - R$11.261,00',\n        color: '#6bfc36',\n      },\n      {\n        text: 'Além de R$11.261,00',\n        color: '#267300',\n      },\n    ],\n    demographicDensity: [\n      {\n        text: '100 - 500 hab.',\n      },\n      {\n        text: '100 - 500 hab.',\n        img: densDiagonal,\n        imgDesc: 'Hachura Vertical'\n      },\n      {\n        text: '1.001 - 5.000 hab.',\n        img: densVertical,\n        imgDesc: 'Hachura Horizontal'\n      },\n      {\n        text: 'Acima de 5.001',\n        img: densHorizontal, \n        imgDesc: 'Hachura Diagonal'\n      },\n    ],\n    demandsandDeliveries: [\n      {\n        color: '#A3218E',\n        text: '10.000 cestas demandadas',\n      },\n      {\n        color: '#592F93',\n        text: '1.000 cestas demandadas',\n      },\n      {\n        color: '#0465B2',\n        text: '100 cestas demandadas',\n      },\n      {\n        color: '#00ACAC',\n        text: '10 cestas demandadas',\n      },\n    ],\n    menuItems: [\n      {\n        image: filterIcon3,\n        selectedImage: filterSelectedIcon3,\n        title: 'Solidariedade',\n        color: '#F0184F',\n        text: 'solid',\n        layerName: 'Solidariedade'\n      },\n      // {\n      //   image: filterIcon5,\n      //   selectedImage: filterSelectedIcon5,\n      //   title: \"Parceiros\",\n      //   color: '#4DA9FF',\n      //   text: 'ongs',\n      //   layerName: 'Parceiros',\n      // },\n      {\n        image: filterIcon4,\n        selectedImage: filterSelectedIcon4,\n        title: 'Covid-19',\n        color: '#0ACF59',\n        text: 'covid',\n        layerName: 'Covid'\n      },\n      {\n        image: filterIcon6,\n        selectedImage: filterSelectedIcon6,\n        title: 'Transparência',\n        color: '#FA9900',\n        text: 'painel',\n      }\n    ],\n    isMapping: false,\n    isSelectedButton: '',\n    isSelectedCheck: ['Sócio-Econômico', 'Densidade Demográfica'],\n    isSelected: '',\n    isSocioEconomic: false,\n    DemographicDensity: false,\n    isDemandsandDeliveries: false,\n  };\n\n  handleIsMappingOpen = (item) => {\n    this.setState({ \n      isSelectedButton: item,\n      isMapping: !this.state.isMapping,\n    });\n  }\n\n  handleSelected = (label) => {    \n    this.setState({ isSelectedButton: label });\n  }\n\n  renderDemandsandDeliveries = () => (\n    <div className=\"container_infos\">\n      {this.state.demandsandDeliveries.map(({color, text}) => (\n        <div className=\"container_infos-item\">\n          <span className=\"container_infos-item--box infos_item-demand\" style={{background: color}} />\n          {text}\n        </div>\n      ))}\n    </div>\n  )\n\n  renderDemographicDensity = () => (\n    <div className=\"container_infos\">\n      {this.state.demographicDensity.map(({text, img, imgDesc}) => (\n        <div className=\"container_infos-item\">\n          <span className=\"container_infos-item--box\">\n            <img src={img} alt={imgDesc} className=\"density_img\" />\n          </span>\n          {text}\n        </div>\n      ))}\n    </div>\n  )\n\n  renderSocioEconomic = () => (\n    <div className=\"container_infos\">\n      {this.state.averageIncome.map(({text, color}) => (\n        <div className=\"container_infos-item\">\n          <span className=\"container_infos-item--box\" style={{backgroundColor: color}} />\n          {text}\n        </div>\n      ))}\n    </div>\n  )\n\n  handleMappingCheck = (item) => {\n    let list = this.state.isSelectedCheck;\n    const hasMatch = list.find(value => value === item);\n    \n    if (hasMatch) {\n      list.splice(list.indexOf(item), 1);\n    } else {\n      list = list.concat(item);\n    }\n\n    this.setState({\n      isSelectedCheck: list,\n    });\n  }\n\n  renderCheckIcon = (item) => {\n    const hasMatch = this.state.isSelectedCheck.find(value => value === item);\n\n    if (hasMatch) {\n      return  (\n        <img src={Check} alt=\"check\" className=\"mapping_item-checkbox--check\" />\n      );\n    } return null;\n  }\n\n  renderDataItem = (item) => {\n    const hasMatch = this.state.isSelectedCheck.find(value => value === item);\n    switch(item && hasMatch) {\n      case 'Sócio-Econômico':\n\t\t\treturn this.renderSocioEconomic();\n      case 'Densidade Demográfica':\n        return this.renderDemographicDensity();\n      case 'Demandas e Entregas':\n        return this.renderDemandsandDeliveries();\n      case \"ONG's Parceiras\":\n      return console.log('ongs');\n      default:\n        return null;\n    }\n  }\n\n  renderMapping = () => (\n    <div className=\"container_mapping\">\n      {this.state.mappingList.map((item) => (\n        <>\n          <div key={item} className=\"container_mapping-item\">\n            {/* <div\n              className=\"mapping_item-checkbox\"\n              onClick={() => this.handleMappingCheck(item)}\n            >\n              {this.renderCheckIcon(item)}\n            </div> */}\n            <p className=\"mapping_item-text\">{item}</p>\n          </div>\n          {this.renderDataItem(item)}\n        </>\n      ))}\n    </div>\n  )\n  \n  renderMenuItem = () => {\n    const { menuItems } = this.state;\n    return menuItems.map(item => {\n      const currentItem = this.props.selectedMenuItem.title === item.title;\n      const setColor = currentItem ? item.color : '#595959';\n      const setFont = currentItem ? '600' : '200';\n      const setDisplay = currentItem ? 'flex' : 'none';\n      const setOpacity = this.props.selectedMenuItem ? 1 :  0.5;\n\n      return (\n        <li\n          key={item.title}\n          onClick={() => this.props.selectedMenuItem && this.props.selectMenuItem(item)}\n          style={{ 'color': `${setColor}`, 'fontWeight': `${setFont}`, opacity: `${setOpacity}`}}>\n          <img src={currentItem ? item.selectedImage : item.image} alt='Icone'/>\n          <p>{item.title}</p>\n          <span className='line' style={{ 'display': `${setDisplay}`, 'background': `${setColor}` }}></span>\n        </li>\n      )}\n    );\n  }\n  render() {\n    return (\n      <nav className=\"menu\">\n        <div className=\"menu-container\">\n          <div className=\"menu-logo\">\n            <NavLink to={'/uniaorio'}>\n              <img src={Logo} alt=\"logo\"/>\n            </NavLink>\n            <div>\n              <p>Última atualização - Em testes</p>\n              <p className=\"text-red\">17:00 - 19.05.20</p>\n            </div>\n          </div>\n          <ul className=\"menu-filters\">\n            {this.renderMenuItem()}\n          </ul>\n          <button>\n            Faça uma doação\n          </button>\n          {/* <div className=\"container_menu-wrapper\">\n            {this.state.buttonList.map(({label, route}) => (\n              <>\n                <NavLink\n                  key={label}\n                  className=\"container_menu-button\"\n                  exact to={route}\n                  activeClassName=\"menu_button-active\"\n                  style={{ \n                    backgroundColor: this.state.isSelectedButton === label && '#CC2E00',\n                    justifyContent: label === 'Mapeamento' && 'space-between'\n                  }}\n                  onClick={label === 'Mapeamento'\n                    ? () => this.handleIsMappingOpen(label)\n                    : () => this.handleSelected(label)\n                  }\n                >\n                  {label}\n                  {label === 'Mapeamento' && this.state.isMapping === false ? (\n                    <img src={Dropdown} alt=\"dropdown\" className=\"menu_drop\" />\n                  ) : (label === 'Mapeamento' && <img src={DropdownUp} alt=\"dropUp\" className=\"menu_drop\" />)}\n                </NavLink>\n                {label === \"Mapeamento\" ? this.state.isMapping && this.renderMapping() : null}\n              </>\n            ))}\n          </div> */}\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default Menu;","// Libs\nimport React, { Component } from 'react';\n\n// Images\nimport GraphicImage from '../assets/socio-economic-grafico.svg';\n\nclass Modal extends Component {\n  state = {};\n\n  handleSocioEconomic = () => (\n    <div className='socio'>\n      <h2 className='content-title'>Socio-econômico</h2>\n      <div className='content-numbers'>\n        <div className=\"ibge-degrade\"></div>\n        <ul>\n          <li>R$1.000,00 - R$2.000,00</li>\n          <li>R$3.000,00 - R$4.000,00</li>\n          <li>R$5.000,00 - R$6.000,00</li>\n          <li>R$7.000,00 - R$8.000,00</li>\n          <li>Acima de R$10.000,00</li>\n        </ul>\n      </div>\n      <p>Os tons mais escuros correspondem aos de menor <strong>renda per-capita</strong>. Já os mais claros correspondem aos de maior renda. Assim podemos identificar quais regiões tem mais recursos para manter os seus habitantes em segurança.</p>\n      <p>Vale ressaltar que uma região com mais recursos tem acesso mais rápido aos serviços do estado e outras prestadoras privadas.</p>\n      <p>Esses dados foram retirados do CENSO-10, realizado pelo IBGE no ano de 2010.</p>\n      <span><strong>Renda per-capita</strong>: é o valor médio que cada pessoa da região recebe mensalmente.</span>\n    </div>\n  )\n\n  handleDemographicDensity = () => (\n    <div className='box'>\n      <h2 className='content-title'>Densidade demográfica</h2>\n      <div className='content-numbers'>\n        <ul>\n          <li><span className='dens-0'></span> 100 - 500 hab.</li>\n          <li><span className='dens-1'></span> 501 - 1.000 hab.</li>\n          <li><span className='dens-2'></span> 1.001- 5.000</li>\n          <li><span className='dens-3'></span> Acima de 5.001</li>\n        </ul>\n      </div>\n      <p>Densidade demográfica, densidade populacional ou população relativa é a medida expressa pela relação entre a população e a superfície do território, geralmente aplicada a seres humanos, mas também em outros seres vivos. É sempre expressa em habitantes por quilômetro quadrado.</p>\n    </div>\n  )\n\n  handleSolidarity = () => (\n    <div className='box'>\n      <h2 className='content-title'>Cestas básicas</h2>\n      <div className='content-numbers'>\n        <ul>\n          <li><span className='solid-1'>%</span>Percentual entregue</li>\n          <li><span className='solid-2'></span>Demanda</li>\n          <li><span className='solid-3'></span>Entrega</li>\n        </ul>\n      </div>\n      <p>Percentual de cestas básicas</p>\n    </div>\n  )\n\n  handleCovid = () => (\n    <div className='box'>\n      <h2 className='content-title'>Casos de COVID-19</h2>\n      <div className='content-numbers'>\n        <ul>\n          <li><span className='covid-1'></span>Confirmados</li>\n          <li><span className='covid-2'></span>Óbitos</li>\n        </ul>\n      </div>\n      <p>Casos de Covid-19 no Rio de Janeiro</p>\n    </div>\n  )\n\n  handleOngs = () => (\n    <div className='box'>\n      <h2 className='content-title'>Parceiros</h2>\n      <div className='content-numbers'>\n        <ul>\n          <li>- Nome do parceiro</li>\n          <li>- Endereço do parceiro</li>\n          <li>- Demanda e entrega de cestas básicas</li>\n        </ul>\n      </div>\n    </div>\n  )\n\n  renderContent = () => {\n    const content = this.props.selectedItem.title;\n\n    switch (content) {\n      // case 'Socio-econômico':\n\t\t\t// return this.handleSocioEconomic();\n      // case 'Densidade demográfica':\n      //   return this.handleDemographicDensity();\n      case 'Solidariedade':\n        return this.handleSolidarity();\n      case 'Covid-19':\n        return this.handleCovid();\n      case \"Parceiros\":\n      return this.handleOngs();\n      default:\n        return null;\n    }\n  }\n  \n  render() {\n    const setDisplay = this.props.showSubtitle ? 'flex' : 'none';\n\n    return (\n      <div className='modal'>\n        <div className='modal-header' onClick={this.props.handleModalSubtitle}>LEGENDA\n          {this.props.showSubtitle ? <span></span> : <p>+</p>}\n        </div>\n        <div className='modal-content' style={{ 'display': `${setDisplay}` }}>\n          {this.renderContent()}\n          {this.handleSocioEconomic()}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import axios from 'axios';\n\nexport const API_URL = 'https://uniao-rio.now.sh';\n\nexport const getIndexes = index => {\n  return axios({\n    url: `${API_URL}/search?index=${index}`,\n    method: 'get',\n  });\n};\n","// Libs\nimport React, { Component } from 'react';\nimport mapboxgl from 'mapbox-gl';\n\n// Components\nimport Subtitle from '../components/ModalSubtitle';\nimport filterIcon3 from '../assets/filter-icon-3.svg';\nimport filterSelectedIcon3 from '../assets/filter-selected-icon-3.svg';\nimport { getIndexes } from '../api';\nimport Loading from '../assets/loading.svg';\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiaWdvcmNvdXRvIiwiYSI6ImNrOWZudjNtcTAyd3EzbHI3a2ppbnpnemUifQ.D--CSyWyEk70oULTVok7vg';\n\nclass HumanitarianMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      lng: -43.2096,\n      lat:  -22.9035,\n      zoom: 5,\n      selectedMenuItem: '',\n      showSubtitle: false,\n    };\n\n    this.map = undefined;\n  }\n\n  choosePopup = (layer, feature) => {\n    console.log('feature ', feature)\n    const district = `<h2>${feature.district || feature.title}</h2>`;\n    const casosConf = `<p id='covid-color_confirm'>${feature.confirmed_cases}</p>`;\n    const mortes = `<p id='covid-color'>${feature.deaths}</p>`;\n    const demand = `<p id='solidariedade-color2'>${feature.demands || 0}</p>`;\n    const entregaSolid = `<p id='solidariedade-color'>${feature.delivered_amount || 0}</p>`;\n\n    if (layer === 'Solidariedade') {\n      const ongsFiltered = this.state.ongs.features.filter(ongs => ongs.properties.district === feature.district).map(ong => ong.properties.title)\n      \n      return `${district}\n        <div>\n          <span>${demand}<small>Demanda</small></span>\n          <span>${entregaSolid}<small>Entrega</small></span>\n        </div>\n        <span> ${ongsFiltered.length > 0 ? `Parceiros:  ${ongsFiltered}` : '' }</span>\n      `\n    }\n    else if (layer === 'CovidDeaths' || layer === 'CovidCases') {\n      return `${district}\n        <div>\n          <span>${casosConf}<small>Confirmados</small></span>\n          <span>${mortes}<small>Óbitos</small></span>\n        </div>`\n    }\n  }\n\n  handlePopup = (layerName) => {\n    let popup;\n\n    this.map.on('mouseenter', layerName, (e) => {\n\n      let coord = undefined;\n\n      coord = e.features[0].geometry.coordinates.slice();\n\n      while (Math.abs(e.lngLat.lng - coord[0]) > 180) {\n        coord[0] += e.lngLat.lng > coord[0] ? 360 : -360;\n      }\n\n      const popupMarkup = this.choosePopup(layerName, e.features[0].properties)\n\n      popup = new mapboxgl.Popup()\n        .setLngLat(coord)\n        .setHTML(popupMarkup)\n        .addTo(this.map);\n\n      return popup;\n    });\n\n    this.map.on('mouseleave', layerName, () => {\n      this.map.getCanvas().style.cursor = '';\n      popup.remove();\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { selectedMenuItem } = this.props;\n\n    if (prevProps.selectedMenuItem !== selectedMenuItem) {\n\n      if (selectedMenuItem.text === 'painel') {\n        this.map.setLayoutProperty(prevProps.selectedMenuItem.layerName, 'visibility', 'none');\n      }\n      if (selectedMenuItem.text !== 'painel') {\n\n        if (prevProps.selectedMenuItem.layerName === 'Covid') {\n          this.map.setLayoutProperty('CovidDeaths', 'visibility', 'none');\n          this.map.setLayoutProperty('CovidCases', 'visibility', 'none');\n        }\n\n        if (prevProps.selectedMenuItem.layerName === 'Solidariedade') {\n          this.map.setLayoutProperty('Solidariedade', 'visibility', 'none');\n        }\n\n        if (selectedMenuItem.layerName === 'Covid') {\n          this.map.setLayoutProperty('CovidDeaths', 'visibility', 'visible');\n          this.map.setLayoutProperty('CovidCases', 'visibility', 'visible');\n          this.handlePopup('CovidDeaths');\n          this.handlePopup('CovidCases');\n        }\n\n        if (selectedMenuItem.layerName === 'Solidariedade') {\n          this.map.setLayoutProperty('Solidariedade', 'visibility', 'visible');\n          this.handlePopup('Solidariedade');\n        }\n      }\n    } \n  }\n\n  async fetchNeighborhood() {\n    try {\n      this.setState({ isFetching: true });\n\n      const response = await getIndexes('bairros');\n      let geojson = {\n        \"type\":\n        \"FeatureCollection\",\n        \"features\": []\n      }\n      response.data.data.forEach(item => {\n        let feature = {\n          \"type\": \"Feature\",\n          \"geometry\": {\n            \"type\": \"Point\",\n            \"coordinates\": [item._source.longitude, item._source.latitude]\n          },\n          \"properties\": item._source,\n        }\n\n        geojson['features'].push(feature)\n      })\n      this.setState({\n        bairros: geojson,\n        isFetching: false,\n      });\n\n    } catch (error) {\n      console.log(error);\n      console.log(error.response);\n      this.setState({ isFetching: false });\n    }\n  }\n\n  async fetchOngs() {\n    try {\n      this.setState({ isFetching: true });\n\n      const response = await getIndexes('ongs');\n      let geojson = {\n        \"type\":\n          \"FeatureCollection\",\n        \"features\": []\n      }\n      response.data.data.forEach(item => {\n        let feature = {\n          \"type\": \"Feature\",\n          \"geometry\": {\n            \"type\": \"Point\",\n            \"coordinates\": [item._source.longitude, item._source.latitude]\n          },\n          \"properties\": item._source,\n        }\n\n        geojson['features'].push(feature)\n      })\n\n      this.setState({\n        ongs: geojson,\n        isFetching: false,\n      });\n\n    } catch (error) {\n      console.log(error);\n      console.log(error.response);\n      this.setState({ isFetching: false });\n    }\n  }\n\n  async componentDidMount () {\n    await this.fetchNeighborhood();\n    await this.fetchOngs();\n\n    this.setState({isLoading: false});\n\n    this.map = new mapboxgl.Map({\n      container: this.mapContainer,\n      style: 'mapbox://styles/igorcouto/ck9mtp0zx384s1jwau5diy2w4/',\n      center: [this.state.lng, this.state.lat],\n      zoom: this.state.zoom,\n      minZoom: 7,\n      maxZoom: 13,\n      maxBounds: [\n        [-45.70898, -23.553521],\n        [-40.40585, -20.715985]]\n    });\n\n    console.log('this.map', this.map)\n    console.log('this.state', this.state)\n\n    this.map.on('load', () => {\n      this.map.flyTo({\n        center: [this.state.lng, this.state.lat],\n        zoom: 12,\n        speed: 0.25\n      });\n\n      this.map.addSource('bairros', {\n        type: 'geojson',\n        data: this.state.bairros\n      });\n\n      // Covid \n      // this.map.addLayer({\n      //   \"id\": \"Covid\",\n      //   \"type\": \"symbol\",\n      //   \"source\": \"bairros\",\n      //   \"layout\": {\n      //     \"visibility\": \"none\",\n      //     \"icon-ignore-placement\": true,\n      //     \"icon-image\": [\n      //       \"step\",\n      //       [\"get\", \"deaths\"],\n      //       \"\",\n      //       1,\n      //       \"Grupo 4409\",\n      //       20,\n      //       \"Grupo%204422\",\n      //       50,\n      //       \"Grupo 4408\"\n      //     ]\n      //   },\n      //   \"paint\": {\n      //     \"icon-opacity\": 0\n      //   }\n      // });\n\n      // cases\n      this.map.addLayer({\n        \"id\": \"CovidCases\",\n        \"type\": \"circle\",\n        \"source\": \"bairros\",\n        \"layout\": {\n          \"visibility\": \"none\",\n        },\n        \"paint\": {\n          \"circle-stroke-width\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"get\", \"confirmed_cases\"],\n            20,\n            4,\n\n            100,\n            8,\n\n            150,\n            16,\n\n            200,\n            32\n          ],\n          \"circle-stroke-color\": \"hsla(144, 91%, 43%, 0.4)\",\n          \"circle-color\": \"hsla(144, 91%, 43%, 0.4)\",\n        }\n      });\n\n      //deaths\n      this.map.addLayer({\n        \"id\": \"CovidDeaths\",\n        \"type\": \"circle\",\n        \"source\": \"bairros\",\n        \"layout\": {\n          \"visibility\": \"none\",\n        },\n        \"paint\": {\n            \"circle-stroke-width\": [\n            \"interpolate\",\n            [\"linear\"],\n            [\"get\", \"deaths\"],\n            10,\n            3,\n\n            20,\n            6,\n            \n            50,\n            12,\n            \n            75,\n            24\n          ],\n          \"circle-stroke-color\": \"hsla(134, 44%, 46%, 0.6)\",\n          \"circle-color\": \"hsla(134, 44%, 46%, 0.6)\",\n        }\n      });\n\n      // bairros title\n      this.map.addLayer({\n        \"id\": \"Bairros-Title\",\n        \"type\": \"symbol\",\n        \"source\": \"bairros\",\n        \"layout\": {\n          \"text-size\": 14,\n          // \"icon-ignore-placement\": true,\n          \"text-field\": [\n            \"case\",\n            [\n              \"match\",\n              [\"get\", \"district\"],\n              [\"NAO INFORMADO\"],\n              false,\n              true\n            ],\n            [\"to-string\", [\"get\", \"district\"]],\n            [\"to-string\", [\"get\", \"district\"]]\n          ],\n          \"text-transform\": \"lowercase\"\n        },\n        \"paint\": {\n          \"text-color\": \"hsla(0, 0%, 20%, 1)\",\n          \"text-halo-color\": \"hsla(0, 0%, 100%, 0.7)\",\n          \"text-halo-width\": 1,\n          \"text-halo-blur\": 1\n        }\n      });\n\n      // solidariedade\n      this.map.addLayer({\n        'id': 'Solidariedade',\n        'type': 'symbol',\n        'source': 'bairros',\n        \"layout\": {\n          \"icon-ignore-placement\": true,\n          \"text-size\": 12,\n          \"visibility\": \"visible\",\n          \"icon-image\": [\n            \"step\",\n            [\"round\",\n              [\"/\",\n                [\"*\",\n                  100,\n                  [\"get\", \"delivered_amount\"]\n                ],\n                [\"get\", \"demands\"]\n              ]\n            ],\n            \"\",\n            5,\n            \"25 (1)\",\n            50,\n            \"50\",\n            75,\n            \"75\",\n            100,\n            \"100\"\n          ],\n          \"text-field\": [\n            \"step\",\n            [\"get\", \"delivered_amount\"],\n            \"\",\n            1,\n            [\"concat\",\n              [\"to-string\",\n                [\"round\",\n                  [\"/\",\n                    [\"*\",\n                      100,\n                      [\"get\", \"delivered_amount\"]\n                    ],\n                    [\"get\", \"demands\"]\n                  ]\n                ]\n              ],\n              '%'\n            ]\n          ]\n        },\n        \"paint\": {\n          \"text-color\": \"#fff\",\n          \"icon-opacity\": 0.7\n        },\n      });\n\n      this.props.handleMenuItem({\n        image: filterIcon3,\n        selectedImage: filterSelectedIcon3,\n        title: 'Solidariedade',\n        color: '#F0184F',\n        text: 'solid',\n        layerName: 'Solidariedade'\n      })\n    })\n\n    this.map.addControl(new mapboxgl.NavigationControl(), 'bottom-left');\n  }\n\n  handleModalSubtitle = () => {\n    this.setState({\n      showSubtitle: !this.state.showSubtitle,\n    });\n  }\n\n  renderLoading = () => (\n    <figure className='figureLoadingMap'>\n      <img src={Loading} alt='Carregando...' className='imgLoading'/>\n    </figure>\n  )\n\n  render() {\n    const {isLoading, showSubtitle} = this.state;\n    const {selectedMenuItem} = this.props;\n    \n    return (\n      <div id=\"map\">\n        {isLoading\n          ? this.renderLoading()\n          : (\n            <>\n              <Subtitle\n                handleModalSubtitle={this.handleModalSubtitle}\n                showSubtitle={showSubtitle}\n                selectedItem={selectedMenuItem}/>\n              <div ref={el => this.mapContainer = el} className=\"mapContainer\"/>\n            </>\n          )}\n      </div>\n    );\n  }\n}\n\nexport default HumanitarianMap;","// Libs\nimport React, { Component } from 'react';\n\n// Components\nimport Menu from '../components/Menu';\nimport HumanitarianMap from '../screens/HumanitarianMap';\nimport painel from '../assets/painel.svg';\nimport menu from '../assets/menu.png';\nimport painel2 from '../assets/painel2.svg';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedMenuItem: '',\n      showSubtitle: false,\n    };\n  }\n\n  componentDidMount() {\n    this.renderMap();\n  }\n\n  handleMenuItem = (item) => {\n    this.setState({\n      selectedMenuItem: item,\n    });\n  }\n\n  handleModalSubtitle = () => {\n    this.setState({\n      showSubtitle: !this.state.showSubtitle,\n    });\n  }\n\n  renderMap = () => {\n    return (\n      <HumanitarianMap\n        handleMenuItem={this.handleMenuItem}\n        selectedMenuItem={this.state.selectedMenuItem}\n      />\n    )\n  }\n\n  renderPainel = () => {\n    return (\n      this.state.selectedMenuItem.text === 'painel' && (\n        <div className=\"painel\">\n          <div className=\"painel-container\">\n            <h1>Painel da transparência</h1>\n            <p>Geral</p>\n            <img className=\"painel-img\" src={painel} alt='Icone' />\n            <img className=\"painel-menu\" src={menu} alt='Menu' />\n            <img className=\"painel2\" src={painel2} alt='Menu' />\n          </div>\n        </div>\n      )\n    )\n  }\n\n\n  render() {\n    return (\n      <div id=\"map\">\n        <Menu\n          selectMenuItem={this.handleMenuItem}\n          selectedMenuItem={this.state.selectedMenuItem}\n        />\n        {this.renderMap()}\n        {this.renderPainel()}\n      </div>\n    );\n  }\n}\n\nexport default App;","// Libs\nimport React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\n// Components\n// import HumanitarianMap from './screens/HumanitarianMap';\nimport App from './screens/App';\n// import Grid from './screens/Grid';\n// import Statistics from './screens/Statistics';\n\nconst Routes = () => (\n\t<BrowserRouter>\n\t\t<Switch>\n\t\t\t<Route exact path='/' component={App} />\n\t\t\t<Route exact path='/uniaorio' component={App} />\n\t\t\t{/* <Route path='/uniaorio/statistics' component={Grid} /> */}\n\t\t\t{/* <Route path='/statistics' component={Statistics} /> */}\n\t\t</Switch>\n\t</BrowserRouter>\n);\n\nexport default Routes;\n","// Libs\nimport React from 'react';\n\n//Components\nimport Routes from './routes';\n\nconst App = () => <Routes />;\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport mapboxgl from 'mapbox-gl';\n \nmapboxgl.accessToken = 'pk.eyJ1IjoiaWdvcmNvdXRvIiwiYSI6ImNrOWZudjNtcTAyd3EzbHI3a2ppbnpnemUifQ.D--CSyWyEk70oULTVok7vg';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}