{"ast":null,"code":"import _regeneratorRuntime from\"/home/yasmin/Documentos/workspace/uniao-rio/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/yasmin/Documentos/workspace/uniao-rio/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/yasmin/Documentos/workspace/uniao-rio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/yasmin/Documentos/workspace/uniao-rio/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/yasmin/Documentos/workspace/uniao-rio/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/yasmin/Documentos/workspace/uniao-rio/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/yasmin/Documentos/workspace/uniao-rio/node_modules/@babel/runtime/helpers/esm/inherits\";// Libs\nimport React,{Component}from'react';// Components\nimport Menu from'../components/Menu';// Images\n// import dropdownIcon from '../assets/dropdown.svg';\nimport dropdownBlack from\"../assets/dropdownBlack.svg\";import Loading from\"../assets/loading.svg\";// Api\nimport{getAllNeighborhood}from'../api';var Grid=/*#__PURE__*/function(_Component){_inherits(Grid,_Component);var _super=_createSuper(Grid);function Grid(){var _this;_classCallCheck(this,Grid);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={tableTitles:['Bairro','Renda Média','Nº de Casos','Nº de Óbitos','Demandas de Cestas','Cestas Entregues','%'],selectedValue:'Selecionar',selectedItems:['Selecionar','Bairros A-Z','Bairros Z-A','Maior Renda Média','Menor Renda Média','Maior Nº de Casos','Menor Nº de Casos','Maior Ocorrência de Óbitos','Menor Ocorrência de Óbitos','Maior Demanda de Cestas','Menor Demanda de Cestas','Maior Nº de Cestas Entregues','Menor Nº de Cestas Entregues'],isDropdownSelected:false,neighborhoodData:[],isFetching:false};_this.handleSelectedValue=function(item){_this.setState({selectedValue:item,isDropdownSelected:false});if(item===\"Bairros A-Z\"){var order=_this.state.neighborhoodData.sort(function(item,b){return item._source.Bairro.localeCompare(b._source.Bairro);});_this.setState({neighborhoodData:order});}if(item===\"Bairros Z-A\"){var _order=_this.state.neighborhoodData.sort(function(item,b){return item._source.Bairro.localeCompare(b._source.Bairro);}).reverse();_this.setState({neighborhoodData:_order});}if(item==='Maior Renda Média'){var _order2=_this.state.neighborhoodData.sort(function(a,b){return a._source.Renda_per_capita_sal_min-b._source.Renda_per_capita_sal_min;}).reverse();_this.setState({neighborhoodData:_order2});}if(item==='Menor Renda Média'){var _order3=_this.state.neighborhoodData.sort(function(a,b){return a._source.Renda_per_capita_sal_min-b._source.Renda_per_capita_sal_min;});_this.setState({neighborhoodData:_order3});}if(item==='Maior Nº de Casos'){var _order4=_this.state.neighborhoodData.sort(function(a,b){return a._source.CasosConfirmados-b._source.CasosConfirmados;}).reverse();_this.setState({neighborhoodData:_order4});}if(item==='Menor Nº de Casos'){var _order5=_this.state.neighborhoodData.sort(function(a,b){return a._source.CasosConfirmados-b._source.CasosConfirmados;});_this.setState({neighborhoodData:_order5});}if(item==='Maior Ocorrência de Óbitos'){var _order6=_this.state.neighborhoodData.sort(function(a,b){return a._source.Obitos-b._source.Obitos;}).reverse();_this.setState({neighborhoodData:_order6});}if(item==='Menor Ocorrência de Óbitos'){var _order7=_this.state.neighborhoodData.sort(function(a,b){return a._source.Obitos-b._source.Obitos;});_this.setState({neighborhoodData:_order7});}if(item==='Maior Demanda de Cestas'){var _order8=_this.state.neighborhoodData.sort(function(a,b){if(a._source.cestas_demandadas===b._source.cestas_demandadas){return 0;}if(a._source.cestas_demandadas<b._source.cestas_demandadas){return-1;}if(a._source.cestas_demandadas>b._source.cestas_demandadas){return 1;}}).reverse();_this.setState({neighborhoodData:_order8});}if(item==='Menor Demanda de Cestas'){var _order9=_this.state.neighborhoodData.sort(function(a,b){if(a._source.cestas_demandadas===b._source.cestas_demandadas){return 0;}if(a._source.cestas_demandadas<b._source.cestas_demandadas){return-1;}if(a._source.cestas_demandadas>b._source.cestas_demandadas){return 1;}});_this.setState({neighborhoodData:_order9});}if(item==='Maior Nº de Cestas Entregues'){var _order10=_this.state.neighborhoodData.sort(function(a,b){if(a._source.cestas_doadas===b._source.cestas_doadas){return 0;}if(a._source.cestas_doadas<b._source.cestas_doadas){return-1;}if(a._source.cestas_doadas>b._source.cestas_doadas){return 1;}}).reverse();_this.setState({neighborhoodData:_order10});}if(item==='Menor Nº de Cestas Entregues'){var _order11=_this.state.neighborhoodData.sort(function(a,b){if(a._source.cestas_doadas===b._source.cestas_doadas){return 0;}if(a._source.cestas_doadas<b._source.cestas_doadas){return-1;}if(a._source.cestas_doadas>b._source.cestas_doadas){return 1;}});_this.setState({neighborhoodData:_order11});}};_this.handleSelectOpen=function(){_this.setState({isDropdownSelected:!_this.state.isDropdownSelected});};_this.handleSelectClose=function(){if(_this.state.isDropdownSelected){_this.setState({isDropdownSelected:false});}};return _this;}_createClass(Grid,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchNeighborhood();}},{key:\"fetchNeighborhood\",value:function(){var _fetchNeighborhood=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;this.setState({isFetching:true});_context.next=4;return getAllNeighborhood();case 4:response=_context.sent;data=response.data.data.map(function(item){return _objectSpread({},item,{_source:_objectSpread({},item._source,{cestas_doadas:!item._source[\"Quantidade de cestas doadas\"]?0:parseInt(item._source[\"Quantidade de cestas doadas\"]),cestas_demandadas:!item._source[\"Quantidade de cestas demandadas\"]?0:parseInt(item._source[\"Quantidade de cestas demandadas\"]),Renda_per_capita_sal_min:parseFloat(item._source.Renda_per_capita_sal_min.split(',').join('.'))})});});this.setState({neighborhoodData:data,isFetching:false});_context.next=14;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);console.log(_context.t0.response);this.setState({isFetching:false});case 14:case\"end\":return _context.stop();}}},_callee,this,[[0,9]]);}));function fetchNeighborhood(){return _fetchNeighborhood.apply(this,arguments);}return fetchNeighborhood;}()},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,selectedValue=_this$state.selectedValue,isDropdownSelected=_this$state.isDropdownSelected,selectedItems=_this$state.selectedItems,tableTitles=_this$state.tableTitles,neighborhoodData=_this$state.neighborhoodData;return/*#__PURE__*/React.createElement(\"div\",{className:\"Grid\"},/*#__PURE__*/React.createElement(Menu,null),/*#__PURE__*/React.createElement(\"div\",{className:\"container_grid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container_map-rio\"},/*#__PURE__*/React.createElement(\"p\",{className:\"map_rio-text\"},\"riocontra\"),/*#__PURE__*/React.createElement(\"p\",{className:\"map_rio-text\",style:{color:'#F05123'}},\"corona\")),/*#__PURE__*/React.createElement(\"div\",{className:\"container_grid-content\",onClick:this.handleSelectClose},/*#__PURE__*/React.createElement(\"div\",{className:\"container_grid-content--header\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"header_title\"},\"Estat\\xEDsticas por Bairro\"),/*#__PURE__*/React.createElement(\"div\",{className:\"container_header-sortBy\"},/*#__PURE__*/React.createElement(\"p\",{className:\"container_header-sortBy--title\"},\"Classificar por:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"container_header-sortBy--input\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header_sortBy-input\",onClick:this.handleSelectOpen},/*#__PURE__*/React.createElement(\"p\",{className:\"sortBy_textSeleted\"},selectedValue),/*#__PURE__*/React.createElement(\"img\",{src:dropdownBlack,alt:\"dropdown\"})),isDropdownSelected&&/*#__PURE__*/React.createElement(\"div\",{className:\"sortBy_selectedItem\"},selectedItems.map(function(item,index){return/*#__PURE__*/React.createElement(\"p\",{className:\"sortBy_selectedItem-text\",onClick:function onClick(){return _this2.handleSelectedValue(item);},key:index},item);}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"table\"},/*#__PURE__*/React.createElement(\"table\",{className:\"container_table\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"container_table-head\"},/*#__PURE__*/React.createElement(\"tr\",{className:\"container_table-tr\"},tableTitles.map(function(title,index){return/*#__PURE__*/React.createElement(\"th\",{key:index,className:\"container_table-title\",style:{textAlign:title==='Bairro'?'left':'center'}},title);}))),/*#__PURE__*/React.createElement(\"tbody\",null,neighborhoodData.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index,className:\"container_table-tr\"},/*#__PURE__*/React.createElement(\"td\",{className:\"container_table-text container_table-text--neighborhood\"},item._source.Bairro),/*#__PURE__*/React.createElement(\"td\",{className:\"container_table-text\"},\"R$ \",item._source.Renda_per_capita_sal_min*1000,\",00\"),/*#__PURE__*/React.createElement(\"td\",{className:\"container_table-text\"},item._source.CasosConfirmados),/*#__PURE__*/React.createElement(\"td\",{className:\"container_table-text\"},item._source.Obitos),/*#__PURE__*/React.createElement(\"td\",{className:\"container_table-text\"},item._source.cestas_demandadas),/*#__PURE__*/React.createElement(\"td\",{className:\"container_table-text\"},item._source.cestas_doadas),item&&item._source.cestas_demandadas&&item._source.cestas_doadas?/*#__PURE__*/React.createElement(\"td\",{className:\"container_table-text\"},(item._source.cestas_doadas*100/item._source.cestas_demandadas).toFixed(0),\"%\"):/*#__PURE__*/React.createElement(\"td\",{className:\"container_table-text\"},\"0\"));}))),this.state.isFetching&&/*#__PURE__*/React.createElement(\"figure\",{className:\"container_table-loader\"},/*#__PURE__*/React.createElement(\"img\",{src:Loading,alt:\"Carregando...\",className:\"table-loader\"}))))));}}]);return Grid;}(Component);export default Grid;","map":{"version":3,"sources":["/home/yasmin/Documentos/workspace/uniao-rio/src/screens/Grid.js"],"names":["React","Component","Menu","getAllNeighborhood","Grid","state","tableTitles","selectedValue","selectedItems","isDropdownSelected","neighborhoodData","isFetching","handleSelectedValue","item","setState","order","sort","b","_source","Bairro","localeCompare","reverse","a","Renda_per_capita_sal_min","CasosConfirmados","Obitos","cestas_demandadas","cestas_doadas","handleSelectOpen","handleSelectClose","fetchNeighborhood","response","data","map","parseInt","parseFloat","split","join","console","log","color","dropdownBlack","index","title","textAlign","toFixed","Loading"],"mappings":"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","sourcesContent":["// Libs\nimport React, { Component } from 'react';\n\n// Components\nimport Menu from '../components/Menu';\n\n// Images\n// import dropdownIcon from '../assets/dropdown.svg';\nimport dropdownBlack from '../assets/dropdownBlack.svg';\nimport Loading from '../assets/loading.svg';\n\n// Api\nimport { getAllNeighborhood } from '../api';\n\n\nclass Grid extends Component {\n  state = {\n    tableTitles: [\n      'Bairro',\n      'Renda Média',\n      'Nº de Casos',\n      'Nº de Óbitos',\n      'Demandas de Cestas',\n      'Cestas Entregues',\n      '%'\n    ],\n    selectedValue: 'Selecionar',\n    selectedItems: [\n      'Selecionar',\n      'Bairros A-Z',\n      'Bairros Z-A',\n      'Maior Renda Média',\n      'Menor Renda Média',\n      'Maior Nº de Casos',\n      'Menor Nº de Casos',\n      'Maior Ocorrência de Óbitos',\n      'Menor Ocorrência de Óbitos',\n      'Maior Demanda de Cestas',\n      'Menor Demanda de Cestas',\n      'Maior Nº de Cestas Entregues',\n      'Menor Nº de Cestas Entregues',\n    ],\n    isDropdownSelected: false,\n    neighborhoodData: [],\n    isFetching: false,\n  }\n\n  componentDidMount() {\n    this.fetchNeighborhood();\n  }\n\n  async fetchNeighborhood() {\n\n    try {\n\n      this.setState({ isFetching: true });\n\n      const response = await getAllNeighborhood();\n\n      const data = response.data.data.map((item) => ({\n        ...item,\n        _source: {\n          ...item._source,\n          cestas_doadas: !item._source[\"Quantidade de cestas doadas\"] ? 0 : parseInt(item._source[\"Quantidade de cestas doadas\"]),\n          cestas_demandadas: !item._source[\"Quantidade de cestas demandadas\"] ? 0 : parseInt(item._source[\"Quantidade de cestas demandadas\"]),\n          Renda_per_capita_sal_min: parseFloat(item._source.Renda_per_capita_sal_min.split(',').join('.'))\n        }\n      }))\n\n      this.setState({\n        neighborhoodData: data,\n        isFetching: false,\n      });\n\n    } catch (error) {\n      console.log(error);\n      console.log(error.response);\n      this.setState({ isFetching: false });\n    }\n  }\n\n  handleSelectedValue = (item) => {\n    this.setState({\n      selectedValue: item,\n      isDropdownSelected: false,\n    });\n\n    if (item === \"Bairros A-Z\") {\n      const order = this.state.neighborhoodData.sort((item, b) => item._source.Bairro.localeCompare(b._source.Bairro))\n\n      this.setState({ neighborhoodData: order })\n    }\n\n    if (item === \"Bairros Z-A\") {\n      const order = this.state.neighborhoodData.sort((item, b) => item._source.Bairro.localeCompare(b._source.Bairro)).reverse()\n\n      this.setState({ neighborhoodData: order })\n    }\n\n    if (item === 'Maior Renda Média') {\n      const order = this.state.neighborhoodData.sort((a, b) => a._source.Renda_per_capita_sal_min - b._source.Renda_per_capita_sal_min).reverse();\n\n      this.setState({ neighborhoodData: order })\n    }\n\n    if (item === 'Menor Renda Média') {\n      const order = this.state.neighborhoodData.sort((a, b) => a._source.Renda_per_capita_sal_min - b._source.Renda_per_capita_sal_min);\n\n      this.setState({ neighborhoodData: order })\n    }\n\n    if (item === 'Maior Nº de Casos') {\n      const order = this.state.neighborhoodData.sort((a, b) => a._source.CasosConfirmados - b._source.CasosConfirmados).reverse();\n\n      this.setState({ neighborhoodData: order })\n    }\n\n    if (item === 'Menor Nº de Casos') {\n      const order = this.state.neighborhoodData.sort((a, b) => a._source.CasosConfirmados - b._source.CasosConfirmados);\n\n      this.setState({ neighborhoodData: order })\n    }\n\n    if (item === 'Maior Ocorrência de Óbitos') {\n      const order = this.state.neighborhoodData.sort((a, b) => a._source.Obitos - b._source.Obitos).reverse();\n\n      this.setState({ neighborhoodData: order })\n    }\n\n    if (item === 'Menor Ocorrência de Óbitos') {\n      const order = this.state.neighborhoodData.sort((a, b) => a._source.Obitos - b._source.Obitos);\n\n      this.setState({ neighborhoodData: order })\n    }\n\n    if (item === 'Maior Demanda de Cestas') {\n      const order = this.state.neighborhoodData.sort((a, b) => {\n        if (a._source.cestas_demandadas === b._source.cestas_demandadas) {\n          return 0\n        }\n        if (a._source.cestas_demandadas < b._source.cestas_demandadas) {\n          return -1\n        }\n        if (a._source.cestas_demandadas > b._source.cestas_demandadas) {\n          return 1\n        }\n      }).reverse();\n\n      this.setState({ neighborhoodData: order })\n    }\n\n    if (item === 'Menor Demanda de Cestas') {\n      const order = this.state.neighborhoodData.sort((a, b) => {\n        if (a._source.cestas_demandadas === b._source.cestas_demandadas) {\n          return 0\n        }\n        if (a._source.cestas_demandadas < b._source.cestas_demandadas) {\n          return -1\n        }\n        if (a._source.cestas_demandadas > b._source.cestas_demandadas) {\n          return 1\n        }\n      });\n\n      this.setState({ neighborhoodData: order })\n    }\n\n    if (item === 'Maior Nº de Cestas Entregues') {\n      const order = this.state.neighborhoodData.sort((a, b) => {\n        if (a._source.cestas_doadas === b._source.cestas_doadas) {\n          return 0\n        }\n        if (a._source.cestas_doadas < b._source.cestas_doadas) {\n          return -1\n        }\n        if (a._source.cestas_doadas > b._source.cestas_doadas) {\n          return 1\n        }\n      }).reverse();\n\n      this.setState({ neighborhoodData: order })\n    }\n\n    if (item === 'Menor Nº de Cestas Entregues') {\n      const order = this.state.neighborhoodData.sort((a, b) => {\n        if (a._source.cestas_doadas === b._source.cestas_doadas) {\n          return 0\n        }\n        if (a._source.cestas_doadas < b._source.cestas_doadas) {\n          return -1\n        }\n        if (a._source.cestas_doadas > b._source.cestas_doadas) {\n          return 1\n        }\n      });\n\n      this.setState({ neighborhoodData: order })\n    }\n  }\n\n  handleSelectOpen = () => {\n    this.setState({\n      isDropdownSelected: !this.state.isDropdownSelected,\n    });\n  }\n\n  handleSelectClose = () => {\n    if (this.state.isDropdownSelected) {\n      this.setState({\n        isDropdownSelected: false,\n      });\n    }\n  }\n\n  render() {\n    const { selectedValue, isDropdownSelected, selectedItems, tableTitles, neighborhoodData } = this.state;\n    return (\n      <div className=\"Grid\">\n        <Menu />\n        <div className=\"container_grid\">\n          <div className='container_map-rio'>\n            <p className='map_rio-text'>\n              riocontra\n            </p>\n            <p className='map_rio-text' style={{ color: '#F05123' }}>corona</p>\n          </div>\n          <div className=\"container_grid-content\" onClick={this.handleSelectClose}>\n            <div className=\"container_grid-content--header\">\n              <h2 className=\"header_title\">Estatísticas por Bairro</h2>\n              <div className=\"container_header-sortBy\">\n                <p className=\"container_header-sortBy--title\">Classificar por:</p>\n                <div className=\"container_header-sortBy--input\">\n                  <div className=\"header_sortBy-input\" onClick={this.handleSelectOpen}>\n                    <p className=\"sortBy_textSeleted\">{selectedValue}</p>\n                    <img src={dropdownBlack} alt=\"dropdown\" />\n                  </div>\n                  {isDropdownSelected && (\n                    <div className=\"sortBy_selectedItem\">\n                      {selectedItems.map((item, index) => (\n                        <p\n                          className=\"sortBy_selectedItem-text\"\n                          onClick={() => this.handleSelectedValue(item)}\n                          key={index}\n                        >\n                          {item}\n                        </p>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n            <div className=\"table\">\n              <table className=\"container_table\">\n                <thead className=\"container_table-head\">\n                  <tr className=\"container_table-tr\">\n                    {tableTitles.map((title, index) => (\n                      <th\n                        key={index}\n                        className=\"container_table-title\"\n                        style={{ textAlign: title === 'Bairro' ? 'left' : 'center' }}\n                      >\n                        {title}\n                      </th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody>\n                  {neighborhoodData.map((item, index) => (\n                    <tr key={index} className=\"container_table-tr\">\n                      <td className=\"container_table-text container_table-text--neighborhood\">{item._source.Bairro}</td>\n                      <td className=\"container_table-text\">R$ {item._source.Renda_per_capita_sal_min*1000},00</td>\n                      <td className=\"container_table-text\">{item._source.CasosConfirmados}</td>\n                      <td className=\"container_table-text\">{item._source.Obitos}</td>\n                      <td className=\"container_table-text\">{item._source.cestas_demandadas}</td>\n                      <td className=\"container_table-text\">{item._source.cestas_doadas}</td>\n                      {item && item._source.cestas_demandadas && item._source.cestas_doadas ? (\n                        <td className=\"container_table-text\">\n                          {(item._source.cestas_doadas * 100 / item._source.cestas_demandadas).toFixed(0)}%\n                        </td>\n                      ) : (\n                        <td className=\"container_table-text\">0</td>\n                      )}\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n              {this.state.isFetching && (\n                <figure className=\"container_table-loader\">\n                  <img src={Loading} alt=\"Carregando...\" className=\"table-loader\" />\n                </figure>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Grid;\n"]},"metadata":{},"sourceType":"module"}